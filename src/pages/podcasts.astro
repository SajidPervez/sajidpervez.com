---
import BaseLayout from '@/layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';
import PodcastCard from '../components/PodcastCard.jsx'; // Import the React component

// Fetch all podcasts from the content collection
const podcasts = await getCollection('podcasts');
---

<BaseLayout pageTitle="Favorite Podcasts">
  <section class="text-center py-8">
    <h1 class="text-5xl font-bold mb-2">Favorite Podcasts</h1>
    <p class="mt-4 text-lg text-gray-600">A curated list of my favorite podcasts.</p>
  </section>

  <!-- Grid Layout for All Podcasts -->
  <section class="podcast-grid-container grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 p-6 max-w-6xl mx-auto">
    {podcasts.map((podcast) => (
      <PodcastCard 
        key={podcast.slug}
        name={podcast.data.name}
        host={podcast.data.host}
        description={podcast.data.description}
        cover={podcast.data.cover}
        url={podcast.data.url}
      />
    ))}
  </section>
</BaseLayout>
